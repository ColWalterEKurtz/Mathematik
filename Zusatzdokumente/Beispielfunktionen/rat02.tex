\begin{tikzpicture}[scale=0.7]
  % grid
  \draw[draw=black!50!white] (-4.000, -2.000) grid[step=0.5] (6.000, 6.000);
  % x-axis
  \draw[line width=0.6pt, ->, >=stealth] (-4.000, 0) -- (6.000, 0) node[below left] {\small$x$};
  % x scale
  \draw[line width=0.6pt] (1, 0.1) -- (1, -0.1) node[below] {\small1};
  % y-axis
  \draw[line width=0.6pt, ->, >=stealth] (0, -2.000) -- (0, 6.000) node[below left] {\small$y$};
  % y scale
  \draw[line width=0.6pt] (0.1, 1) -- (-0.1, 1) node[left] {\small1};
  % function
  \begin{scope}
    \clip (-4.000, -2.000) rectangle (6.000, 6.000);
    \draw plot[smooth] coordinates
    {
      ( -4.000,   0.432) ( -3.900,   0.425) ( -3.800,   0.417)
      ( -3.700,   0.409) ( -3.600,   0.400) ( -3.500,   0.392)
      ( -3.400,   0.383) ( -3.300,   0.374) ( -3.200,   0.365)
      ( -3.100,   0.356) ( -3.000,   0.346) ( -2.900,   0.336)
      ( -2.800,   0.326) ( -2.700,   0.316) ( -2.600,   0.305)
      ( -2.500,   0.294) ( -2.400,   0.283) ( -2.300,   0.271)
      ( -2.200,   0.260) ( -2.100,   0.248) ( -2.000,   0.235)
      ( -1.900,   0.223) ( -1.800,   0.210) ( -1.700,   0.197)
      ( -1.600,   0.183) ( -1.500,   0.170) ( -1.400,   0.156)
      ( -1.300,   0.142) ( -1.200,   0.128) ( -1.100,   0.114)
      ( -1.000,   0.100) ( -0.900,   0.086) ( -0.800,   0.072)
      ( -0.700,   0.059) ( -0.600,   0.046) ( -0.500,   0.034)
      ( -0.400,   0.024) ( -0.300,   0.014) ( -0.200,   0.007)
      ( -0.100,   0.002) (  0.000,   0.000) (  0.100,   0.002)
      (  0.200,   0.009) (  0.300,   0.023) (  0.400,   0.045)
      (  0.500,   0.077) (  0.600,   0.122) (  0.700,   0.182)
      (  0.800,   0.262) (  0.900,   0.367) (  1.000,   0.500)
      (  1.100,   0.669) (  1.200,   0.878) (  1.300,   1.134)
      (  1.400,   1.441) (  1.500,   1.800) (  1.600,   2.207)
      (  1.700,   2.651) (  1.800,   3.115) (  1.900,   3.574)
      (  2.000,   4.000) (  2.100,   4.366) (  2.200,   4.654)
      (  2.300,   4.853) (  2.400,   4.966) (  2.500,   5.000)
      (  2.600,   4.971) (  2.700,   4.893) (  2.800,   4.780)
      (  2.900,   4.646) (  3.000,   4.500) (  3.100,   4.348)
      (  3.200,   4.197) (  3.300,   4.048) (  3.400,   3.905)
      (  3.500,   3.769) (  3.600,   3.640) (  3.700,   3.519)
      (  3.800,   3.406) (  3.900,   3.299) (  4.000,   3.200)
      (  4.100,   3.107) (  4.200,   3.021) (  4.300,   2.940)
      (  4.400,   2.864) (  4.500,   2.793) (  4.600,   2.727)
      (  4.700,   2.665) (  4.800,   2.606) (  4.900,   2.552)
      (  5.000,   2.500) (  5.100,   2.451) (  5.200,   2.406)
      (  5.300,   2.362) (  5.400,   2.322) (  5.500,   2.283)
      (  5.600,   2.246) (  5.700,   2.212) (  5.800,   2.179)
      (  5.900,   2.147) (  6.000,   2.118)
    };
  \end{scope}
  \node[below] at (1.000, -2.000)
  {%
    \rule[-1.1\baselineskip]{0pt}{2.2\baselineskip}%
    \begin{minipage}{7.000cm}%
      \begin{equation*}%
        f(x)=\frac{x^2}{(x-2)^2+1}
      \end{equation*}%
    \end{minipage}%
  };
\end{tikzpicture}
